<DevicesScreen>:
    name: 'Devices Screen'
    
    app:app
    id :sec
    MDBoxLayout:
        id: boxlayout
        orientation: 'vertical'
        md_bg_color: "#f4f9fc"
        spacing:dp(20)

############################################################
########################## Top Bar #########################
############################################################
        MDTopAppBar:
            type: "small"
            pos_hint: {"center_x": .5 ,"center_y": .5}
            theme_bg_color: "Custom"
            md_bg_color: "#f4f9fc"

            MDTopAppBarLeadingButtonContainer:
                md_bg_color: "#f4f9fc"

                # MDActionTopAppBarButton:
                #     icon: "theme-light-dark"
                #     text_color:"#282827"
                #     on_release: app.switch_theme_style() 

            MDTopAppBarTitle:
                text: "[color=11ac68]Green[/color] Clean"
                markup: True
                theme_text_color: "Custom"
                theme_font_name: "Custom"
                theme_font_size: "Custom"
                font_name:"BPoppins"
                text_color : "#0c1616"
                font_size : dp(25)

            MDTopAppBarTrailingButtonContainer:
                
                MDActionTopAppBarButton:
                    icon: "information"
                    theme_icon_color: "Custom"
                    theme_bg_color: "Custom"
                    md_bg_color: "#f4f9fc"
                    icon_color: "#282827"                     
                    on_release: app.info_dialog()
                    
                MDActionTopAppBarButton:
                    icon: "help-circle"
                    theme_icon_color: "Custom"
                    theme_bg_color: "Custom"
                    md_bg_color: "#f4f9fc"
                    icon_color: "#282827" 
                    on_release: app.go_back_to_help_1_screen() 

############################################################
################## Refresh & Back Buttons ##################
############################################################
        BoxLayout:
            orientation: 'horizontal'
            padding: dp(10)
            spacing: dp(10)
            size_hint: None, None
            size: self.minimum_size
            pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                fab_state: "expand"
                pos_hint: {"center_x": .5, "center_y": .5}
                on_release: app.go_back_to_main_screen()
                style: "tonal"
                theme_bg_color: "Custom"
                md_bg_color: "#282827"
                MDButtonIcon:
                    icon: "arrow-left"
                    theme_icon_color: "Custom"
                    icon_color: "#fefefe"
                MDButtonText:
                    text: "Back"
                    theme_text_color: "Custom"
                    text_color: "#fefefe"

            MDButton:
                fab_state: "expand"
                pos_hint: {"center_x": .5, "center_y": .5}
                on_release: app.bluetooth_devices()
                style: "filled"
                theme_bg_color: "Custom"
                md_bg_color: "#11ac68"
                MDButtonIcon:
                    icon: "refresh"
                    theme_icon_color: "Custom"
                    icon_color: "#282827"
                MDButtonText:
                    text: "Refresh"
                    theme_text_color: "Custom"
                    text_color: "#282827"

############################################################
################## Devices Cards Section ###################
############################################################
        MDBoxLayout:
            orientation: 'vertical'
            padding : dp(15)
    
            MDScrollView:
                do_scroll_x: False
                do_scroll_y: True
                MDList:
                    id:list
                    spacing:dp(5)
                    padding:dp(5)